(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{200:function(e,a,t){e.exports=t(274)},205:function(e,a,t){},206:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},207:function(e,a,t){},274:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(14),i=t.n(o),l=(t(205),t(206),t(207),t(9)),c=t(30),s=t(40),m=t(2),u=t(29),g=t(45),d=t(319),p=t(333),h=t(343),b=t(340),f=t(334),E=t(335),v=t(329),O=t(77),j=t(337),S=t(328),y=t(336),w=t(338),C=t(331),x=t(136),N=t.n(x),I=t(138),k=t.n(I),B=t(137),M=t.n(B),L=t(313),T=t(316),D=t(317),P=t(318),H=t(131),z=t.n(H),R=t(132),W=t.n(R),A=t(133),G=t.n(A),J=t(68),U=t.n(J),F=r.a.createElement("div",null,r.a.createElement(L.a,{button:!0,component:u.b,to:"/"},r.a.createElement(T.a,null,r.a.createElement(z.a,null)),r.a.createElement(D.a,{primary:"Dashboard"})),r.a.createElement(L.a,{button:!0,component:u.b,to:"/items"},r.a.createElement(T.a,null,r.a.createElement(W.a,null)),r.a.createElement(D.a,{primary:"Items"})),r.a.createElement(L.a,{button:!0,component:u.b,to:"/schools"},r.a.createElement(T.a,null,r.a.createElement(G.a,null)),r.a.createElement(D.a,{primary:"Schools"}))),_=r.a.createElement("div",null,r.a.createElement(P.a,{inset:!0},"Important Ops"),r.a.createElement(L.a,{button:!0,component:u.b,to:"/addserviceengineer"},r.a.createElement(T.a,null,r.a.createElement(U.a,null)),r.a.createElement(D.a,{primary:"Add Service Engineer"})),r.a.createElement(L.a,{button:!0,component:u.b,to:"/assignitem"},r.a.createElement(T.a,null,r.a.createElement(U.a,null)),r.a.createElement(D.a,{primary:"Assign Item to School"})),r.a.createElement(L.a,{button:!0,component:u.b,to:"/assignserviceengineer"},r.a.createElement(T.a,null,r.a.createElement(U.a,null)),r.a.createElement(D.a,{primary:"Assign Service Engg"})),r.a.createElement(L.a,{button:!0,component:u.b,to:"/viewschoolmessages"},r.a.createElement(T.a,null,r.a.createElement(U.a,null)),r.a.createElement(D.a,{primary:"School User's Messages"})),r.a.createElement(L.a,{button:!0,component:u.b,to:"/viewservicemessages"},r.a.createElement(T.a,null,r.a.createElement(U.a,null)),r.a.createElement(D.a,{primary:"Service Engg's Messages"})));function V(e){return r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var X=t(321),Y=t(325),K=t(324),$=t(320),q=t(322),Q=t(323),Z=t(277),ee=t(108);ee.initializeApp({apiKey:"AIzaSyBI7uchPzUOb2C5_d2MisazwCkV25MniJo",authDomain:"rnchat-1.firebaseapp.com",databaseURL:"https://rnchat-1.firebaseio.com",projectId:"rnchat-1",storageBucket:"rnchat-1.appspot.com",messagingSenderId:"20403508251",appId:"1:20403508251:web:bacf5e2f4bc763259754be",measurementId:"G-6P74EG9Y8C"});var ae=ee,te=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ne(){ae.database();var e=Object(n.useState)(),a=Object(l.a)(e,2),t=a[0],o=a[1],i=Object(n.useState)([]),c=Object(l.a)(i,2),s=(c[0],c[1],[]);Object(n.useEffect)((function(){ae.database().ref("schools").on("value",(function(e){var a=e.val();o(a)}))}),[]);var u=[];if(t){for(var g=Object.keys(t),d=0;d<g.length;d++)t[g[d]].code=g[d],u[d]=t[g[d]];console.log("type of schoolsData is: "+typeof u),u.forEach((function(e,a){var t,n,r,o,i,l;s.push((t=e.code,n=e.schoolName,r=e.name,o=e.villageName,i=e.district,l=e.serviceName,{code:t,schoolName:n,name:r,villageName:o,district:i,serviceName:l}))}))}var p=te();Object(m.a)(p.paper,p.fixedHeight);return console.log("in schools"),console.log(t),t?r.a.createElement($.a,{component:Z.a},r.a.createElement(X.a,{className:p.table,"aria-label":"school table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(K.a,null,"School Code"),r.a.createElement(K.a,{align:"right"},"School Name"),r.a.createElement(K.a,{align:"right"},"Name"),r.a.createElement(K.a,{align:"right"},"Village Name"),r.a.createElement(K.a,{align:"right"},"District"),r.a.createElement(K.a,{align:"right"},"Service Name"))),r.a.createElement(Y.a,null,s.map((function(e){return r.a.createElement(Q.a,{key:e.name},r.a.createElement(K.a,{component:"th",scope:"row"},e.code),r.a.createElement(K.a,{align:"right"},e.schoolName),r.a.createElement(K.a,{align:"right"},e.name),r.a.createElement(K.a,{align:"right"},e.villageName),r.a.createElement(K.a,{align:"right"},e.district),r.a.createElement(K.a,{align:"right"},e.serviceName))}))))):r.a.createElement("div",null,"Loading...")}var re=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function oe(){ae.database();var e=Object(n.useState)(),a=Object(l.a)(e,2),t=a[0],o=a[1],i=Object(n.useState)([]),c=Object(l.a)(i,2),s=(c[0],c[1],[]);Object(n.useEffect)((function(){ae.database().ref("items").on("value",(function(e){var a=e.val();o(a)}))}),[]);var u=[];if(t){for(var g=Object.keys(t),d=0;d<g.length;d++)u[d]=t[g[d]];u.forEach((function(e,a){var t,n,r,o;s.push((t=e._id,n=e.iconName,r=e.itemType,o=e.name,{_id:t,iconName:n,itemType:r,name:o}))}))}var p=re();Object(m.a)(p.paper,p.fixedHeight);return console.log("in schools"),console.log(t),t?r.a.createElement($.a,{component:Z.a},r.a.createElement(X.a,{className:p.table,"aria-label":"school table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(K.a,null,"Item Code"),r.a.createElement(K.a,{align:"right"},"Icon Name"),r.a.createElement(K.a,{align:"right"},"Item Type"),r.a.createElement(K.a,{align:"right"},"Item Name"))),r.a.createElement(Y.a,null,s.map((function(e){return r.a.createElement(Q.a,{key:e.name},r.a.createElement(K.a,{component:"th",scope:"row"},e._id),r.a.createElement(K.a,{align:"right"},e.iconName),r.a.createElement(K.a,{align:"right"},e.itemType),r.a.createElement(K.a,{align:"right"},e.name))}))))):r.a.createElement("div",null,"Loading...")}var ie=t(339),le=t(341),ce=t(326),se=t(330),me=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function ue(){var e=me(),a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),m=s[0],u=s[1],g=Object(n.useState)(),d=Object(l.a)(g,2),p=d[0],h=d[1],b=Object(n.useState)(),f=Object(l.a)(b,2),E=f[0],v=f[1],O=Object(n.useState)(),j=Object(l.a)(O,2),S=j[0],y=j[1],w=Object(n.useState)(),C=Object(l.a)(w,2),x=C[0],N=C[1],I=Object(n.useState)(),k=Object(l.a)(I,2),B=k[0],M=k[1];Object(n.useEffect)((function(){ae.database().ref("items").on("value",(function(e){var a=e.val();u(a)})),ae.database().ref("schools").on("value",(function(e){var a=e.val();i(a)}))}),[]);var L=[],T=[],D=[];if(m&&o){for(var P=Object.keys(o),H=0;H<P.length;H++)T[H]={code:P[H],schoolName:P[H]+" - "+o[P[H]].schoolName};var z=Object.keys(m);for(H=0;H<z.length;H++)L[H]=m[z[H]]}return E&&(D=L.filter((function(e){return e.name==E})),console.log(D)),m&&o?r.a.createElement(ce.a,{className:e.formControl},r.a.createElement(le.a,{id:"school",options:T,getOptionLabel:function(e){return e.schoolName},style:{width:400,margin:12},onChange:function(e,a){h(a.code),console.log("changed value to: "+a.code)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter  School",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"item-name",options:L,getOptionLabel:function(e){return e.name},style:{width:400,margin:12},onChange:function(e,a){v(a.name),console.log("changed value to: "+a.name)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Item",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"item-code",options:D,getOptionLabel:function(e){return e._id},style:{width:400,margin:12},onChange:function(e,a){y(a._id),console.log("changed value to: "+a._id)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select Item Code",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"item-type",options:D,getOptionLabel:function(e){return e.itemType},style:{width:400,margin:12},onChange:function(e,a){N(a.itemType),console.log("changed value to: "+a.itemType)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select Item Type",variant:"outlined"}))}}),r.a.createElement(ie.a,{id:"item-serial",label:"Enter Serial Number",variant:"outlined",onChange:function(e){return M(e.target.value)},style:{width:400,margin:12}}),r.a.createElement(se.a,{variant:"contained",color:"primary",style:{margin:12},onClick:function(e,a){var t={};if(console.log(p),console.log(E),console.log(S),console.log(x),console.log(B),p&&E&&S&&x&&B){var n={itemType:x,itemname:E,serialNo:B};t["schoolitems/".concat(p,"/items/").concat(B)]=n,ae.database().ref().update(t),document.getElementById("uploading").innerHTML="succesfully published!"}else alert("Fill all relevant fields")}},"Publish Changes"),r.a.createElement("div",{id:"uploading"})):r.a.createElement("div",null,"Loading...")}var ge=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function de(){var e=ge(),a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),m=s[0],u=s[1],g=Object(n.useState)(),d=Object(l.a)(g,2),p=d[0],h=d[1],b=Object(n.useState)(),f=Object(l.a)(b,2),E=(f[0],f[1],Object(n.useState)()),v=Object(l.a)(E,2),O=v[0],j=v[1],S=Object(n.useState)(),y=Object(l.a)(S,2),w=(y[0],y[1],Object(n.useState)()),C=Object(l.a)(w,2),x=(C[0],C[1],Object(n.useState)()),N=Object(l.a)(x,2);N[0],N[1];Object(n.useEffect)((function(){ae.database().ref("users").on("value",(function(e){var a=e.val();u(a)})),ae.database().ref("schoolUser").on("value",(function(e){var a=e.val();i(a)}))}),[]);var I=[],k=[];if(m&&o){for(var B=Object.keys(o),M=0;M<B.length;M++)k[M]={number:B[M],schoolCode:o[B[M]].schoolCode,schoolName:o[B[M]].schoolCode+" - "+o[B[M]].schoolName};var L=Object.keys(m);for(M=0;M<L.length;M++)m[L[M]].number=L[M],I[M]=m[L[M]]}return m&&o?r.a.createElement(ce.a,{className:e.formControl},r.a.createElement(le.a,{id:"school",options:k,getOptionLabel:function(e){return e.schoolName},style:{width:400,margin:12},onChange:function(e,a){h(a),console.log("changed value to: "+a.schoolCode)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter  School",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"service",options:I,getOptionLabel:function(e){return e.name},style:{width:400,margin:12},onChange:function(e,a){j(a),console.log("changed value to: "+a.name)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Service Engineer's name",variant:"outlined"}))}}),r.a.createElement(se.a,{variant:"contained",color:"primary",style:{margin:12},onClick:function(e,a){var t={};if(console.log(p),console.log(O),p&&O){var n={schoolId:p.number,schoolName:p.schoolName.split("-")[1].trim(),schoolCode:p.schoolCode};t["users/".concat(O.number,"/schools/").concat(p.schoolCode)]=n;var r={serviceName:O.name};t["schoolUser/".concat(p.number,"/services/").concat(O.number)]=r,ae.database().ref().update(t),document.getElementById("uploading").innerHTML="succesfully published!"}else alert("Fill all relevant fields")}},"Publish Changes"),r.a.createElement("div",{id:"uploading"})):r.a.createElement("div",null,"Loading...")}var pe=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function he(){var e=pe(),a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),m=s[0],u=s[1];return r.a.createElement(ce.a,{className:e.formControl},r.a.createElement(ie.a,{id:"service-name",label:"Enter Service Engineer Name",variant:"outlined",onChange:function(e){return i(e.target.value)},style:{width:400,margin:12}}),r.a.createElement(ie.a,{id:"service-number",label:"Enter Service Engineer Number",variant:"outlined",onChange:function(e){return u(e.target.value)},style:{width:400,margin:12}}),r.a.createElement(se.a,{variant:"contained",color:"primary",style:{margin:12},onClick:function(e,a){var t={};if(o&&m){var n={name:o};t["users/".concat(m)]=n,ae.database().ref().update(t),document.getElementById("uploading").innerHTML="succesfully published!"}else alert("Fill all relevant fields")}},"Publish Changes"),r.a.createElement("div",{id:"uploading"}))}var be=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),fe=[],Ee=[],ve=[],Oe=[],je=[],Se=[],ye=[];function we(){var e=be(),a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),m=s[0],u=s[1],g=Object(n.useState)(),d=Object(l.a)(g,2),p=(d[0],d[1],Object(n.useState)()),h=Object(l.a)(p,2),b=h[0],f=h[1],E=Object(n.useState)(),v=Object(l.a)(E,2),O=(v[0],v[1],Object(n.useState)()),j=Object(l.a)(O,2),S=(j[0],j[1],Object(n.useState)()),y=Object(l.a)(S,2),w=(y[0],y[1],Object(n.useState)()),C=Object(l.a)(w,2),x=(C[0],C[1],Object(n.useState)()),N=Object(l.a)(x,2),I=N[0],k=N[1];function B(e){var a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),u=s[0],g=s[1],d=Object(n.useState)(),p=Object(l.a)(d,2),h=p[0],f=p[1];if(Object(n.useEffect)((function(){ae.database().ref("dialogMessages/".concat(b.number,"/1234567890/")).on("value",(function(e){var a=e.val();i(a),console.log("reached inside dialog service")}))}),[]),o)for(var E=Object.keys(o),v=0;v<E.length;v++)o[E[v]].date=E[v],ye[v]={date:o[E[v]].date};if(u&&!h&&ae.database().ref("dialogMessages/".concat(b.number,"/1234567890/").concat(u.date)).on("value",(function(e){var a=e.val();f(a)})),h){var O=Object.keys(h);for(v=0;v<O.length;v++)h[O[v]].id=O[v],ve[v]={content:h[O[v]].from+": "+h[O[v]].message+"  "+new Date(h[O[v]].time).toLocaleString()};console.log("formatted messages are: "+ve),console.log("data Rows value: "+Oe),Oe.length<1&&(ve.forEach((function(e,a){Oe.push({content:e.content})})),e.setMessageData(ve),console.log("data rows are of length "+JSON.stringify(Oe.length)))}if(m)return r.a.createElement("div",null,r.a.createElement(le.a,{id:"date",options:ye,getOptionLabel:function(e){return e.date},style:{width:400,margin:12},onChange:function(e,a){g(a),console.log("changed value to: "+a.date)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Date",variant:"outlined"}))}}))}function M(e){var a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),u=s[0],g=s[1],d=Object(n.useState)(),p=Object(l.a)(d,2),h=p[0],f=p[1],E=Object(n.useState)(),v=Object(l.a)(E,2),O=v[0],j=v[1],S=Object(n.useState)(),y=Object(l.a)(S,2),w=y[0],C=y[1];if(h)for(var x=Object.keys(h),N=0;N<x.length;N++)je[N]=h[x[N]];if(O&&!w&&ae.database().ref("messages/".concat(b.number,"/").concat(O.grievanceId,"/").concat(u.number)).on("value",(function(e){var a=e.val();C(a),console.log(w),console.log("messages data is "+Ee)})),Object(n.useEffect)((function(){ae.database().ref("schoolUser/".concat(b.number,"/services")).on("value",(function(e){var a=e.val();i(a),console.log("reached inside set service")}))}),[]),o){var I=Object.keys(o);for(N=0;N<I.length;N++)o[I[N]].number=I[N],Se[N]=o[I[N]]}if(w){console.log("in the rednern loop");var k=Object.keys(w);for(N=0;N<k.length;N++)w[k[N]].id=k[N],"image"==w[k[N]].type?Ee[N]={content:w[k[N]].from+": "+w[k[N]].imageUrl+"  "+new Date(w[k[N]].time).toLocaleString()}:Ee[N]={content:w[k[N]].from+": "+w[k[N]].message+"  "+new Date(w[k[N]].time).toLocaleString()};console.log("formatted messages are: "+Ee),console.log("data Rows value: "+Oe),Oe.length<1&&(Ee.forEach((function(e,a){Oe.push({content:e.content})})),console.log("maintaining message: "+w),e.setMessageData(Ee),console.log("data rows are of length "+JSON.stringify(Oe.length)))}if(m)return r.a.createElement("div",null,r.a.createElement(le.a,{id:"service",options:Se,getOptionLabel:function(e){return e.serviceName},style:{width:400,margin:12},onChange:function(e,a){g(a),ae.database().ref("grievances/".concat(b.number)).on("value",(function(e){var a=e.val();f(a)}))},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Serviceman",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"grievances",options:je,getOptionLabel:function(e){return e.grievanceId},style:{width:400,margin:12},onChange:function(e,a){j(a),console.log("changed value to: "+a.grievanceId)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter the grievance",variant:"outlined"}))}}))}Object(n.useEffect)((function(){ae.database().ref("schoolUser").on("value",(function(e){var a=e.val();i(a)}))}),[]);var L=[];if(o){for(var T=Object.keys(o),D=0;D<T.length;D++)fe[D]={number:T[D],schoolCode:o[T[D]].schoolCode,schoolName:o[T[D]].schoolCode+" - "+o[T[D]].schoolName};L=[{type:"Dialogflow Messages"},{type:"Service Engineer Messages"}]}return o?r.a.createElement(ce.a,{className:e.formControl},r.a.createElement(le.a,{id:"school",options:fe,getOptionLabel:function(e){return e.schoolName},style:{width:400,margin:12},onChange:function(e,a){f(a),console.log("changed value to: "+a.schoolCode)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter School",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"message-type",options:L,getOptionLabel:function(e){return e.type},style:{width:400,margin:12},onChange:function(e,a){u(a),console.log("changed value to: "+a.type)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Type of Messages",variant:"outlined"}))}}),null!=m?"Dialogflow Messages"==m.type?r.a.createElement(B,{setMessageData:k}):r.a.createElement(M,{setMessageData:k}):r.a.createElement("div",null),console.log("Message Dataa: "+I),null!=I?1234567890!=I[I.length-1].from?r.a.createElement($.a,{component:Z.a},r.a.createElement(X.a,{className:e.table,"aria-label":"messages table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(K.a,null,"Messages"))),r.a.createElement(Y.a,null,Oe.map((function(e){return r.a.createElement(Q.a,{key:e.contents},r.a.createElement(K.a,{component:"th",scope:"row"},e.content))}))))):r.a.createElement($.a,{component:Z.a},r.a.createElement(X.a,{className:e.table,"aria-label":"DialogMessages table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(K.a,null,"Messages"))),r.a.createElement(Y.a,null,Oe.map((function(e){return r.a.createElement(Q.a,{key:e.contents},r.a.createElement(K.a,{component:"th",scope:"row"},e.content))}))))):r.a.createElement("div",null,"  "),r.a.createElement("div",{id:"furtherForm"})):r.a.createElement("div",null,"Loading...")}var Ce=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),xe=[],Ne=[],Ie=[],ke=[],Be=[];function Me(){var e=Ce(),a=Object(n.useState)(),t=Object(l.a)(a,2),o=t[0],i=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),m=s[0],u=s[1],g=Object(n.useState)(),d=Object(l.a)(g,2),p=d[0],h=d[1],b=Object(n.useState)(),f=Object(l.a)(b,2),E=f[0],v=f[1],O=Object(n.useState)(),j=Object(l.a)(O,2),S=(j[0],j[1],Object(n.useState)()),y=Object(l.a)(S,2),w=y[0],C=y[1],x=Object(n.useState)(),N=Object(l.a)(x,2),I=N[0],k=N[1],B=Object(n.useState)(),M=Object(l.a)(B,2),L=M[0],T=M[1];Object(n.useEffect)((function(){ae.database().ref("users").on("value",(function(e){var a=e.val();i(a)}))}),[]);if(o)for(var D=Object.keys(o),P=0;P<D.length;P++)xe[P]={number:D[P],name:o[D[P]].name};if(m&&!p&&(ae.database().ref("users/".concat(m.number,"/schools/")).on("value",(function(e){var a=e.val();console.log("firebase data is"+JSON.stringify(a)),h(a)})),console.log("loop test 1")),p){var H=Object.keys(p);for(P=0;P<H.length;P++)Ne[P]={nameWithCode:p[H[P]].schoolCode+" - "+p[H[P]].schoolName,number:p[H[P]].schoolId,name:p[H[P]].schoolName}}if(w&&!I&&(ae.database().ref("grievances/".concat(w.number,"/")).on("value",(function(e){var a=e.val();console.log("firebase grievance data rcvd is: "+JSON.stringify(a)),k(a)})),console.log("loop test 2")),I){var z=Object.keys(I);for(P=0;P<z.length;P++)I[z[P]].service==m.number&&(Ie[P]=I[z[P]])}if(L&&!E&&(ae.database().ref("messages/".concat(m.number,"/").concat(L.grievanceId,"/").concat(w.number)).on("value",(function(e){var a=e.val();v(a),console.log(E)})),console.log("loop test 3")),E){var R=Object.keys(E);for(P=0;P<R.length;P++)E[R[P]].id=R[P],ke[P]={content:E[R[P]].from+": "+E[R[P]].message+"  "+new Date(E[R[P]].time).toLocaleString()};Be.length<1&&(ke.forEach((function(e,a){Be.push({content:e.content})})),console.log("data rows are of length "+JSON.stringify(Be.length)))}return o?r.a.createElement(ce.a,{className:e.formControl},r.a.createElement(le.a,{id:"service",options:xe,getOptionLabel:function(e){return e.name},style:{width:400,margin:12},onChange:function(e,a){u(a),console.log("changed value to: "+a.number+" "+a.name)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Service Engineer",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"school-user",options:Ne,getOptionLabel:function(e){return e.nameWithCode},style:{width:400,margin:12},onChange:function(e,a){C(a),console.log("changed value to: "+a.nameWithCode)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter School",variant:"outlined"}))}}),r.a.createElement(le.a,{id:"grievance",options:Ie,getOptionLabel:function(e){return e.grievanceId},style:{width:400,margin:12},onChange:function(e,a){T(a),console.log("changed value to: "+a.grievance)},renderInput:function(e){return r.a.createElement(ie.a,Object.assign({},e,{label:"Select or Enter Grievance",variant:"outlined"}))}}),ke.length>0?r.a.createElement($.a,{component:Z.a},r.a.createElement(X.a,{className:e.table,"aria-label":"messages table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(K.a,null,"Messages"))),r.a.createElement(Y.a,null,Be.map((function(e){return r.a.createElement(Q.a,{key:e.contents},r.a.createElement(K.a,{component:"th",scope:"row"},e.content))}))))):r.a.createElement("div",null,"  ")):r.a.createElement("div",null,"Loading...")}function Le(e){e.preventDefault()}var Te=Object(d.a)({depositContext:{flex:1}});function De(){var e=Te();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null,"Recent Deposits"),r.a.createElement(O.a,{component:"p",variant:"h4"},"$3,024.00"),r.a.createElement(O.a,{color:"textSecondary",className:e.depositContext},"on 15 March, 2019"),r.a.createElement("div",null,r.a.createElement(C.a,{color:"primary",href:"#",onClick:Le},"View balance")))}function Pe(e,a,t,n,r,o){return{id:e,date:a,name:t,shipTo:n,paymentMethod:r,amount:o}}var He=[Pe(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),Pe(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),Pe(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),Pe(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),Pe(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)];function ze(e){e.preventDefault()}var Re=Object(d.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function We(){var e=Re();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null,"Recent Orders"),r.a.createElement(X.a,{size:"small"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(K.a,null,"Date"),r.a.createElement(K.a,null,"Name"),r.a.createElement(K.a,null,"Ship To"),r.a.createElement(K.a,null,"Payment Method"),r.a.createElement(K.a,{align:"right"},"Sale Amount"))),r.a.createElement(Y.a,null,He.map((function(e){return r.a.createElement(Q.a,{key:e.id},r.a.createElement(K.a,null,e.date),r.a.createElement(K.a,null,e.name),r.a.createElement(K.a,null,e.shipTo),r.a.createElement(K.a,null,e.paymentMethod),r.a.createElement(K.a,{align:"right"},e.amount))})))),r.a.createElement("div",{className:e.seeMore},r.a.createElement(C.a,{color:"primary",href:"#",onClick:ze},"See more orders")))}t(275);var Ae=t(332),Ge=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Je(){var e=Ge();Object(m.a)(e.paper,e.fixedHeight);return r.a.createElement("div",null,r.a.createElement(Ae.a,{container:!0,spacing:3},r.a.createElement(Ae.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(Z.a,null,r.a.createElement(De,null))),r.a.createElement(Ae.a,{item:!0,xs:12},r.a.createElement(Z.a,{className:e.paper},r.a.createElement(We,null)))))}function Ue(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(C.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Fe=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function _e(){var e=Fe(),a=r.a.useState(!0),t=Object(l.a)(a,2),n=t[0],o=t[1];Object(m.a)(e.paper,e.fixedHeight);return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,null),r.a.createElement(f.a,{position:"absolute",className:Object(m.a)(e.appBar,n&&e.appBarShift)},r.a.createElement(E.a,{className:e.toolbar},r.a.createElement(S.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},className:Object(m.a)(e.menuButton,n&&e.menuButtonHidden)},r.a.createElement(N.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement(S.a,{color:"inherit"},r.a.createElement(y.a,{badgeContent:4,color:"secondary"},r.a.createElement(M.a,null))))),r.a.createElement(u.a,null,r.a.createElement(h.a,{variant:"permanent",classes:{paper:Object(m.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(S.a,{onClick:function(){o(!1)}},r.a.createElement(k.a,null))),r.a.createElement(j.a,null),r.a.createElement(v.a,null,F),r.a.createElement(j.a,null),r.a.createElement(v.a,null,_)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(w.a,{maxWidth:"lg",className:e.container},r.a.createElement(g.a,{exact:!0,path:"/",component:Je}),r.a.createElement(g.a,{path:"/index.html",component:Je}),r.a.createElement(g.a,{path:"/schools",component:ne}),r.a.createElement(g.a,{path:"/items",component:oe}),r.a.createElement(g.a,{path:"/assignitem",component:ue}),r.a.createElement(g.a,{path:"/assignserviceengineer",component:de}),r.a.createElement(g.a,{path:"/addserviceengineer",component:he}),r.a.createElement(g.a,{path:"/viewschoolmessages",component:we}),r.a.createElement(g.a,{path:"/viewservicemessages",component:Me}),r.a.createElement(b.a,{pt:4},r.a.createElement(Ue,null))))))}var Ve=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_e,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[200,1,2]]]);
//# sourceMappingURL=main.2a56defa.chunk.js.map